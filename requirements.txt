# -----------------------------------------------------------------------------
# Python dependencies for the whole project (API, training, webapp, ETL).
# Versions are pinned for reproducibility and to avoid "it works on my machine".
# Notes:
# - The PyTorch + torchvision pins match macOS ARM64 wheels tested locally.
# - Choose exactly ONE DB driver at the bottom (MySQL recommended for this repo).
# -----------------------------------------------------------------------------

# API framework
fastapi==0.120.2          # Web framework for the inference API
uvicorn==0.38.0           # ASGI server to run FastAPI

# Core image & scientific stack
pillow==10.4.0            # Image loading/processing
numpy==2.2.1              # Numerical computing (ARM64-safe pin)
pandas==2.3.3             # Tabular data processing
scikit-learn==1.7.2       # Metrics/splits/utilities (not used for deep learning itself)

# Deep learning
torch==2.9.0              # PyTorch core
torchvision==0.24.0       # Vision models & transforms (aligned with torch)

# Utilities
tqdm==4.67.1              # Progress bars
requests==2.32.5          # HTTP client (used by ETL/downloader)
python-dotenv==1.2.1      # Load .env configuration

# MLOps
mlflow==3.5.1             # Experiment tracking + model registry
boto3==1.40.62            # S3 client (MinIO compatible)
python-multipart==0.0.20  # File upload parsing for FastAPI
streamlit==1.39.0         # Simple Web UI to test predictions

# Metrics/monitoring (optional)
prometheus-fastapi-instrumentator==6.1.0  # /metrics exporter for FastAPI
prometheus-client==0.23.1                 # Prometheus metrics primitives

# Database driver (pick ONE):
# psycopg2-binary==2.9.9     # <- PostgreSQL (commented out for now)
mysql-connector-python==9.1.0 # <- MySQL (recommended for the optional SQL task)